from webapp.profit import Profit
DICT_TESTE = {"ABEVT175":{"ativo":"ABEVT175","quantidade":1000,"prazo":"08/21","valor":1151.5348979591836,"preco_medio":1.1515348979591835,"lucro":{}},"ABEVV175":{"ativo":"ABEVV175","quantidade":0,"prazo":"10/21","preco_medio":0,"valor":0,"lucro":{"20/09/2021":-654.3351020408163}},"ABEV3":{"ativo":"ABEV3","quantidade":20700,"prazo":"","preco_medio":14.861960793370892,"valor":307642.5884227775,"lucro":{"24/02/2022":-640.1927418361338}},"ABEVI165":{"ativo":"ABEVI165","quantidade":-2500,"prazo":"09/21","preco_medio":0.11065291228070176,"valor":-276.6322807017544,"lucro":{}},"ABEVJ160":{"ativo":"ABEVJ160","quantidade":-1400,"prazo":"10/21","valor":-727.0077192982457,"preco_medio":0.5192912280701755,"lucro":{}},"ABEVK160":{"ativo":"ABEVK160","quantidade":0,"prazo":"11/21","preco_medio":0,"valor":0,"lucro":{"04/11/2021":-2162.4218181818183}},"ABEVL163":{"ativo":"ABEVL163","quantidade":0,"prazo":"12/21","preco_medio":0,"valor":0,"lucro":{"30/11/2021":2011.5803035328408}},"ABEVA162":{"ativo":"ABEVA162","quantidade":-6300,"prazo":"01/22","preco_medio":0.28628597860971333,"valor":-1803.601665241194,"lucro":{}},"ABEVM162":{"ativo":"ABEVM162","quantidade":0,"prazo":"01/22","preco_medio":0,"valor":0,"lucro":{"03/01/2022":-3.0423333333333247}},"ABEVB161":{"ativo":"ABEVB161","quantidade":0,"prazo":"02/22","preco_medio":0,"valor":0,"lucro":{"15/02/2022":390.6636461557511}},"IRBR3":{"ativo":"IRBR3","quantidade":3400,"prazo":"","preco_medio":3.5492967162900992,"valor":12067.608835386338,"lucro":{}},"IRBRB330":{"ativo":"IRBRB330","quantidade":0,"prazo":"02/22","preco_medio":0,"valor":0,"lucro":{"18/02/2022":311.5133333333333}},"IRBRC340":{"ativo":"IRBRC340","quantidade":-2600,"prazo":"03/22","valor":-285.5966666666667,"preco_medio":0.1098448717948718,"lucro":{}},"ABEVC149":{"ativo":"ABEVC149","quantidade":-20700,"prazo":"03/22","preco_medio":0.24415979239252075,"valor":-5054.10770252518,"lucro":{}},"ABEVC157":{"ativo":"ABEVC157","quantidade":0,"prazo":"03/22","preco_medio":0,"valor":0,"lucro":{"15/02/2022":8932.920834060187}}}

# def test_profit_compile ():
#     profit = Profit()
#     profit.profit 
#     test = profit.update_profit({}, DICT_TESTE)
#     result = {'20/09/2021': -654.3351020408163, '24/02/2022': -640.1927418361338, '04/11/2021': -2162.4218181818183, '30/11/2021': 2011.5803035328408, '03/01/2022': -3.0423333333333247, '15/02/2022': 9323.584480215939, '18/02/2022': 311.5133333333333, 'total': 8186.6861216900115}
#     assert test == result